# ADR-001: Начальный технологический стек

Дата: 2025-09-24
Статус: Proposed

## Контекст

Нужен минимальный стек для быстрого прототипа с возможностью масштабирования.

## Решение (предварительно)

- Backend: Python FastAPI (быстрая разработка, типизация)
- Queue/Async: Redis / RQ (позже Celery / RabbitMQ при росте)
- DB: PostgreSQL (реляционные связи, JSONB для артефактов)
- Storage: S3-совместимое (MinIO локально)
- AI: Внешние LLM API + локальные модели (llama.cpp) через абстракцию Provider
- Auth: OIDC (Keycloak) / временно простые токены
- Observability: OpenTelemetry + Prometheus + Loki/Grafana

## Последствия

+ Быстрый старт
+ Широкая экосистема
+ Простая смена брокера/LLM через адаптеры
- Возможная миграция очереди в будущем
- Локальные модели требуют оптимизации ресурсов

## Альтернативы

- Go / Java для backend (больше времени на старт)
- Monolith vs Microservices (начинаем с модульного монолита)

## Метрики

- Время обработки одной Submission
- Процент ошибок повторной обработки
- Латентность LLM вызовов

## Решения связанные

ADR-000 (шаблон)
