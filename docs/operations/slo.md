# SLO / SLI / SLA (черновик)

## Термины

- SLI: измеряемая метрика (пример: доля успешных оценок)
- SLO: целевой уровень (99%)
- SLA: внешние юридические обязательства (в перспективе)

## Предварительные SLI

| SLI | Описание | Метод измерения |
|-----|----------|-----------------|
| grading_success_ratio | Успешно завершённые оценки / все попытки | Количество Evaluation со статусом success |
| grading_latency_p95 | P95 времени от webhook до готового отчёта | Разница timestamp submission/evaluation |
| ai_error_rate | Ошибки вызовов LLM / всех вызовов | Логи ModelInvocation |
| queue_wait_time_p95 | P95 ожидания задания в очереди | Разница enqueue/dequeue |

## Целевые SLO (P0)

| Показатель | SLO | Окно |
|------------|-----|------|
| grading_success_ratio | >= 0.985 | 30 дней |
| grading_latency_p95 | <= 180s | 30 дней |
| ai_error_rate | <= 0.03 | 30 дней |
| queue_wait_time_p95 | <= 30s | 30 дней |

## Ошибочные бюджеты

- Если grading_success_ratio < 98.5% → заморозка rollout новых фич

## Ревизия

- Пересмотр раз в семестр или при существенном росте нагрузки
