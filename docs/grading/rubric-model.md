# Модель рубрик и оценивания

## Цели

- Единый формат критериев
- Версионность рубрик
- Комбинация авто и ручной оценки

## Структура Rubric (JSON эскиз)

```json
{
  "rubric_id": "rubric-basic",
  "version": "0.1.0",
  "criteria": [
    {"id": "CR1", "weight": 0.1, "method": "lint"},
    {"id": "CR2", "weight": 0.2, "method": "tests"}
  ],
  "aggregation": "weighted-sum",
  "constraints": [
    {"if": "CR2 < 0.5", "cap_total": 0.6}
  ]
}
```

## Процесс вычисления

1. Сбор исходных метрик (тесты, анализ, AI метрики)
2. Нормализация (0..1) по каждому критерию
3. Применение весов и ограничений
4. Округление и формирование отчёта

## Версионность

- Изменение рубрики → новая minor/major версия
- История в каталоге [docs/grading/rubrics/](/docs/grading/rubrics/) (позже)

## Интеграция с AI

- AI может предлагать оценку (proposed_score)
- Финальная оценка = min(auto_score, manual_override?) в политиках

## Метрики качества рубрик

- Корреляция с экспертной оценкой
- Стабильность между попытками
- Частота пересмотра критериев
